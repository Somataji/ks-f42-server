# ks.cfg â€” Fedora 42 Server (plaintext passwords)
# Localization
lang en_US
keyboard us
timezone Etc/UTC --isUtc

# Network
network --bootproto=dhcp --activate

# Security
rootpw tekkioRootA

# Create user kyle (wheel group, sudo enabled)
user --name=kyle --groups=wheel --password=welcometotekkio --plaintext

# Partitioning (UEFI + LVM)
clearpart --all --initlabel
part /boot/efi --fstype=efi --size=200
part /boot --fstype=xfs --size=1024
part pv.01 --fstype="lvmpv" --size=1 --grow
volgroup vg00 pv.01

logvol /     --fstype=xfs  --name=root  --vgname=vg00 --size=30720
logvol /home --fstype=xfs  --name=home  --vgname=vg00 --size=30720
logvol swap  --fstype=swap --name=swap  --vgname=vg00 --size=8192

# Bootloader
bootloader --location=partition --boot-drive=sda

# Packages
%packages
@^server-product-environment
%end

# Post-install configuration
%post --log=/root/ks-post.log
# Give sudo access to wheel users
echo "%wheel ALL=(ALL) ALL" > /etc/sudoers.d/90-wheel
chmod 440 /etc/sudoers.d/90-wheel

# Enable SSH key placeholder
mkdir -p /root/.ssh
echo "# add your ssh public key below" > /root/.ssh/authorized_keys
chmod 700 /root/.ssh
chmod 600 /root/.ssh/authorized_keys
%end

# Reboot when installation is complete
reboot
